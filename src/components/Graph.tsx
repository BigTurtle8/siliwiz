import { react } from 'plotly.js-basic-dist';
import { createEffect, createSignal, onMount } from 'solid-js';

const data = [
  // 'time',         'GATE',         'DRAIN'
  [0.0, 0.0, 1.8],
  [1.0e-14, 0.0, 1.8],
  [2.0e-14, 0.0, 1.8],
  [4.0e-14, 0.0, 1.8],
  [8.0e-14, 0.0, 1.8],
  [1.6e-13, 0.0, 1.8],
  [3.2e-13, 0.0, 1.8],
  [6.4e-13, 0.0, 1.8],
  [1.0e-12, 0.0, 1.8],
  [1.064e-12, 1.152e-2, 1.8],
  [1.192e-12, 3.456e-2, 1.8],
  [1.448e-12, 8.064e-2, 1.8],
  [1.96e-12, 1.728e-1, 1.8],
  [2.984e-12, 3.5712e-1, 1.8],
  [5.032e-12, 7.2576e-1, 1.8],
  [9.128e-12, 1.46304, 1.8],
  [1.1e-11, 1.8, 1.8],
  [1.18192e-11, 1.8, 1.8],
  [1.34576e-11, 1.8, 1.8],
  [1.67344e-11, 1.8, 1.8],
  [2.3288e-11, 1.8, 1.8],
  [3.3288e-11, 1.8, 1.8],
  [4.3288e-11, 1.8, 1.8],
  [5.3288e-11, 1.8, 1.8],
  [6.3288e-11, 1.8, 1.8],
  [7.3288e-11, 1.8, 1.8],
  [8.3288e-11, 1.8, 1.8],
  [9.3288e-11, 1.8, 1.8],
  [1.03288e-10, 1.8, 1.8],
  [1.13288e-10, 1.8, 1.8],
  [1.23288e-10, 1.8, 1.8],
  [1.33288e-10, 1.8, 1.8],
  [1.43288e-10, 1.8, 1.8],
  [1.53288e-10, 1.8, 1.8],
  [1.63288e-10, 1.8, 1.8],
  [1.73288e-10, 1.8, 1.8],
  [1.83288e-10, 1.8, 1.8],
  [1.93288e-10, 1.8, 1.8],
  [2.03288e-10, 1.8, 1.8],
  [2.13288e-10, 1.8, 1.8],
  [2.23288e-10, 1.8, 1.8],
  [2.33288e-10, 1.8, 1.8],
  [2.43288e-10, 1.8, 1.8],
  [2.53288e-10, 1.8, 1.8],
  [2.63288e-10, 1.8, 1.8],
  [2.73288e-10, 1.8, 1.8],
  [2.83288e-10, 1.8, 1.8],
  [2.93288e-10, 1.8, 1.8],
  [3.03288e-10, 1.8, 1.8],
  [3.13288e-10, 1.8, 1.8],
  [3.23288e-10, 1.8, 1.8],
  [3.33288e-10, 1.8, 1.8],
  [3.43288e-10, 1.8, 1.8],
  [3.53288e-10, 1.8, 1.8],
  [3.63288e-10, 1.8, 1.8],
  [3.73288e-10, 1.8, 1.8],
  [3.83288e-10, 1.8, 1.8],
  [3.93288e-10, 1.8, 1.8],
  [4.03288e-10, 1.8, 1.8],
  [4.13288e-10, 1.8, 1.8],
  [4.23288e-10, 1.8, 1.8],
  [4.33288e-10, 1.8, 1.8],
  [4.43288e-10, 1.8, 1.8],
  [4.53288e-10, 1.8, 1.8],
  [4.63288e-10, 1.8, 1.8],
  [4.73288e-10, 1.8, 1.8],
  [4.83288e-10, 1.8, 1.8],
  [4.93288e-10, 1.8, 1.8],
  [5.03288e-10, 1.8, 1.8],
  [5.13288e-10, 1.8, 1.8],
  [5.23288e-10, 1.8, 1.8],
  [5.33288e-10, 1.8, 1.8],
  [5.43288e-10, 1.8, 1.8],
  [5.53288e-10, 1.8, 1.8],
  [5.63288e-10, 1.8, 1.8],
  [5.73288e-10, 1.8, 1.8],
  [5.83288e-10, 1.8, 1.8],
  [5.93288e-10, 1.8, 1.8],
  [6.03288e-10, 1.8, 1.8],
  [6.13288e-10, 1.8, 1.8],
  [6.23288e-10, 1.8, 1.8],
  [6.33288e-10, 1.8, 1.8],
  [6.43288e-10, 1.8, 1.8],
  [6.53288e-10, 1.8, 1.8],
  [6.63288e-10, 1.8, 1.8],
  [6.73288e-10, 1.8, 1.8],
  [6.83288e-10, 1.8, 1.8],
  [6.93288e-10, 1.8, 1.8],
  [7.03288e-10, 1.8, 1.8],
  [7.13288e-10, 1.8, 1.8],
  [7.23288e-10, 1.8, 1.8],
  [7.33288e-10, 1.8, 1.8],
  [7.43288e-10, 1.8, 1.8],
  [7.53288e-10, 1.8, 1.8],
  [7.63288e-10, 1.8, 1.8],
  [7.73288e-10, 1.8, 1.8],
  [7.83288e-10, 1.8, 1.8],
  [7.93288e-10, 1.8, 1.8],
  [8.03288e-10, 1.8, 1.8],
  [8.13288e-10, 1.8, 1.8],
  [8.23288e-10, 1.8, 1.8],
  [8.33288e-10, 1.8, 1.8],
  [8.43288e-10, 1.8, 1.8],
  [8.53288e-10, 1.8, 1.8],
  [8.63288e-10, 1.8, 1.8],
  [8.73288e-10, 1.8, 1.8],
  [8.83288e-10, 1.8, 1.8],
  [8.93288e-10, 1.8, 1.8],
  [9.03288e-10, 1.8, 1.8],
  [9.13288e-10, 1.8, 1.8],
  [9.23288e-10, 1.8, 1.8],
  [9.33288e-10, 1.8, 1.8],
  [9.43288e-10, 1.8, 1.8],
  [9.53288e-10, 1.8, 1.8],
  [9.63288e-10, 1.8, 1.8],
  [9.73288e-10, 1.8, 1.8],
  [9.83288e-10, 1.8, 1.8],
  [9.93288e-10, 1.8, 1.8],
  [1.003288e-9, 1.8, 1.8],
  [1.011e-9, 1.8, 1.8],
  [1.012e-9, 1.62, 1.8],
  [1.014e-9, 1.26, 1.8],
  [1.018e-9, 5.4e-1, 1.8],
  [1.021e-9, 0.0, 1.8],
  [1.0218e-9, 0.0, 1.8],
  [1.0234e-9, 0.0, 1.8],
  [1.0266e-9, 0.0, 1.8],
  [1.033e-9, 0.0, 1.8],
  [1.043e-9, 0.0, 1.8],
  [1.053e-9, 0.0, 1.8],
  [1.063e-9, 0.0, 1.8],
  [1.073e-9, 0.0, 1.8],
  [1.083e-9, 0.0, 1.8],
  [1.093e-9, 0.0, 1.8],
  [1.103e-9, 0.0, 1.8],
  [1.113e-9, 0.0, 1.8],
  [1.123e-9, 0.0, 1.8],
  [1.133e-9, 0.0, 1.8],
  [1.143e-9, 0.0, 1.8],
  [1.153e-9, 0.0, 1.8],
  [1.163e-9, 0.0, 1.8],
  [1.173e-9, 0.0, 1.8],
  [1.183e-9, 0.0, 1.8],
  [1.193e-9, 0.0, 1.8],
  [1.203e-9, 0.0, 1.8],
  [1.213e-9, 0.0, 1.8],
  [1.223e-9, 0.0, 1.8],
  [1.233e-9, 0.0, 1.8],
  [1.243e-9, 0.0, 1.8],
  [1.253e-9, 0.0, 1.8],
  [1.263e-9, 0.0, 1.8],
  [1.273e-9, 0.0, 1.8],
  [1.283e-9, 0.0, 1.8],
  [1.293e-9, 0.0, 1.8],
  [1.303e-9, 0.0, 1.8],
  [1.313e-9, 0.0, 1.8],
  [1.323e-9, 0.0, 1.8],
  [1.333e-9, 0.0, 1.8],
  [1.343e-9, 0.0, 1.8],
  [1.353e-9, 0.0, 1.8],
  [1.363e-9, 0.0, 1.8],
  [1.373e-9, 0.0, 1.8],
  [1.383e-9, 0.0, 1.8],
  [1.393e-9, 0.0, 1.8],
  [1.403e-9, 0.0, 1.8],
  [1.413e-9, 0.0, 1.8],
  [1.423e-9, 0.0, 1.8],
  [1.433e-9, 0.0, 1.8],
  [1.443e-9, 0.0, 1.8],
  [1.453e-9, 0.0, 1.8],
  [1.463e-9, 0.0, 1.8],
  [1.473e-9, 0.0, 1.8],
  [1.483e-9, 0.0, 1.8],
  [1.493e-9, 0.0, 1.8],
  [1.503e-9, 0.0, 1.8],
  [1.513e-9, 0.0, 1.8],
  [1.523e-9, 0.0, 1.8],
  [1.533e-9, 0.0, 1.8],
  [1.543e-9, 0.0, 1.8],
  [1.553e-9, 0.0, 1.8],
  [1.563e-9, 0.0, 1.8],
  [1.573e-9, 0.0, 1.8],
  [1.583e-9, 0.0, 1.8],
  [1.593e-9, 0.0, 1.8],
  [1.603e-9, 0.0, 1.8],
  [1.613e-9, 0.0, 1.8],
  [1.623e-9, 0.0, 1.8],
  [1.633e-9, 0.0, 1.8],
  [1.643e-9, 0.0, 1.8],
  [1.653e-9, 0.0, 1.8],
  [1.663e-9, 0.0, 1.8],
  [1.673e-9, 0.0, 1.8],
  [1.683e-9, 0.0, 1.8],
  [1.693e-9, 0.0, 1.8],
  [1.703e-9, 0.0, 1.8],
  [1.713e-9, 0.0, 1.8],
  [1.723e-9, 0.0, 1.8],
  [1.733e-9, 0.0, 1.8],
  [1.743e-9, 0.0, 1.8],
  [1.753e-9, 0.0, 1.8],
  [1.763e-9, 0.0, 1.8],
  [1.773e-9, 0.0, 1.8],
  [1.783e-9, 0.0, 1.8],
  [1.793e-9, 0.0, 1.8],
  [1.803e-9, 0.0, 1.8],
  [1.813e-9, 0.0, 1.8],
  [1.823e-9, 0.0, 1.8],
  [1.833e-9, 0.0, 1.8],
  [1.843e-9, 0.0, 1.8],
  [1.853e-9, 0.0, 1.8],
  [1.863e-9, 0.0, 1.8],
  [1.873e-9, 0.0, 1.8],
  [1.883e-9, 0.0, 1.8],
  [1.893e-9, 0.0, 1.8],
  [1.903e-9, 0.0, 1.8],
  [1.913e-9, 0.0, 1.8],
  [1.923e-9, 0.0, 1.8],
  [1.933e-9, 0.0, 1.8],
  [1.943e-9, 0.0, 1.8],
  [1.953e-9, 0.0, 1.8],
  [1.963e-9, 0.0, 1.8],
  [1.973e-9, 0.0, 1.8],
  [1.983e-9, 0.0, 1.8],
  [1.993e-9, 0.0, 1.8],
  [2.0e-9, 0.0, 1.8],
];

export default function Graph() {
  let graphDiv: HTMLDivElement;

  onMount(() => {
    const layout = {
      margin: {
        l: 50,
        r: 50,
        b: 50,
        t: 50,
        pad: 4,
      },
    };

    createEffect(() => {
      react(
        graphDiv,
        [
          {
            x: data.map((row) => row[0]),
            y: data.map((row) => row[1]),
            name: 'GATE',
            type: 'scatter',
          },
          {
            x: data.map((row) => row[0]),
            y: data.map((row) => row[2]),
            name: 'DRAIN',
            type: 'scatter',
          },
        ],
        layout,
      );
    });
  });
  return <div ref={graphDiv} style={{ width: '400px', height: '400px' }} />;
}
